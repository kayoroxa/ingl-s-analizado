const { getScene, getScore, readSrt } = require('./funcs')
const srtDatas = readSrt('../movie srt')

function scoreAndSort(scenes) {
  const score = scenes
    .map(value => {
      return { value, score: getScore(value.text, searchQuery) }
    })
    .filter(v => v.score > 0)

  return score.sort((a, b) => a.score - b.score)
}

const searchQuery = [
  //
  'real',
  'problem',
  'idea',
  'move',
  'not',
  'no',
  'car',
  "'cause",
  'capable',
  'flexible',
  'impressible',
  'destructible',
  'accessible',
  'adjustable',
  'governable',
  'case',
  'live',
  'plan',
  'face',
  'minute',
  'minutes',
  'mine',
  'jesus',
  'perfect',
  'totally',
  'different',
  'completely',
  'important',
  'finally',
  'men',
  'special',
  'definitely',
  'absolutely',
  'human',
  'interesting',
  'constant',
  'favorite',
  'chance',
  'class',
  'control',
  'simple',
  'sense',
  'calm',
  'quiet',
  'tranquil',
  'except',
  'apparently',
  'detective',
  'line',
  'sarge',
  'super',
  'supposed',
  'appreciate',
  'moment',
  'doctor',
  'top',
  'prison',
  'message',
  'idiot',
  'situation',
  'professor',
  'company',
  'product',
  'productive',
  'relax',
  'robot',
  'rich',
  'system',
  'present',
  'conversation',
  'figure',
  'fact',
  'hero',
  'apartment',
  'cancer',
  'list',
  'normal',
  'hospital',
  'surprise',
  'respect',
  'along',
  'band',
  'chocolate',
  'offer',
  'princess',
  'pass',
  'ridiculous',
  'future',
  'favor',
  'paper',
  'natural',
  'service',
  'president',
  'giant',
  'brilliant',
  'excellent',
  'professional',
  'exciting',
  'test',
  'computer',
  'monster',
  'pizza',
  'private',
  'extra',
  'assistant',
  'complete',
  'interested',
  'total',
  'grand',
  'obvious',
  'crime',
  'passed',
  'especially',
  'mission',
  'art',
  'imagine',
  'text',
  'experience',
  'public',
  'honest',
  'animals',
  'problems',
  'strange',
  'camera',
  'classic',
  'presented',
  'consider',
  'evidence',
  'insane',
  'necessary',
  'west',
  'progress',
  'animal',
  'nervous',
  'escape',
  'difference',
  'opinion',
  'admit',
  'destroy',
  'planet',
  'criminal',
  'final',
  'agent',
  'usually',
  'complicated',
  'restaurant',
  'regular',
  'zero',
  'bomb',
  'emergency',
  'impossible',
  'ample',
  'sandwich',
  'ex',
  'immediately',
  'figured',
  'plant',
  'romantic',
  'decided',
  'credit',
  'pressure',
  'contact',
  'correct',
  'prove',
  'delicious',
  'club',
  'panda',
  'north',
  'treatment',
  'original',
  'experiment',
  'department',
  'fantastic',
  'support',
  'mama',
  'study',
  'bacon',
  'bus',
  'cause',
  'interest',
  'surprised',
  'program',
  'responsibility',
  'plans',
  'decision',
  'illegal',
  'government',
  'universe',
  'justice',
  'risk',
  'nuclear',
  'involved',
  'impressive',
  'distribution',
  'vote',
  'recommend',
  'nature',
  'focus',
  'familiar',
  'international',
  'cruel',
  'circus',
  'decide',
  'offense',
  'chinese',
  'area',
  'introduce',
  'cable',
  'appropriate',
  'solve',
  'film',
  'online',
  'repeat',
  'community',
  'oscar',
  'energy',
  'scientist',
  'model',
  'official',
  'accident',
  'color',
  'nerd',
  'orders',
  'protect',
  'mark',
  'fresh',
  'jules',
  'basically',
  'carry',
  'famous',
  'recently',
  'scene',
  'territory',
  'battery',
  'plane',
  'states',
  'elementary',
  'yogurt',
  'fraud',
  'sports',
  'visit',
  'ocean',
  'pilot',
  'opportunity',
  'social',
  'fortune',
  'transcript',
  'agents',
  'mars',
  'christ',
  'metal',
  'local',
  'pathetic',
  'certain',
  'cartel',
  'jazz',
  'detail',
  'hotel',
  'alarm',
  'detectives',
  'prepare',
  'aboard',
  'limited',
  'ogre',
  'violence',
  'signal',
  'fantasy',
  'honestly',
  'scientific',
  'emotional',
  'defense',
  'divorced',
  'barrels',
  'sexual',
  'internet',
  'champagne',
  'electricity',
  'popular',
  'mouse',
  'constant',
  'rosie',
  'precious',
  'movement',
  'press',
  'license',
  'cigarette',
  'diet',
  'percent',
  'prefer',
  'desperate',
  'specific',
  'caused',
  'commercial',
  'general',
  'quality',
  'alert',
  'medal',
  'anniversary',
  'salad',
  'monsters',
  'virgin',
  'literally',
  'courtesy',
  'pure',
  'separate',
  'responsible',
  'considering',
  'assuming',
  'federal',
  'carbon',
  'positive',
  'imaginary',
  'interrupt',
  'equipment',
  'project',
  'incident',
  'zone',
  'alcohol',
  'blog',
  'considered',
  'rats',
  'album',
  'legend',
  'serve',
  'formula',
  'discussion',
  'base',
  'take',
  'have',
  'one',
  'make',
  'Take care',
  'take a look',
  `(i|you|he|she) have a lot`,
  `look what`,
  `i have a`,
  `And if`,
  `What does that mean`,
  `go out`,
  `What should (i|she|he) do`,
  `find out`,
  `There's .* way`,
  `was able to`,
  `on the`,
]
const allScenes = srtDatas.map(v =>
  getScene(v.content, { path: v.fileInfo.path })
)

const allSort = scoreAndSort([].concat(...allScenes))

console.log(allSort.slice(-20))
